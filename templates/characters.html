<!DOCTYPE html>
<html lang="en">

<head>

    <!-- App global header -->
    {% include 'head.html' %}

    <title>Star Wars - Characters</title>

</head>



<body>

    <!-- Page Content -->
    <div class="container">

        <!-- Page Heading -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Characters</h1>
            </div>
        </div>

        <!-- Sort Bar -->

        <div class="row">
            <script src="static/sorting.jsx" type="text/jsx"> </script>

            <h3>Sort:
                <a href="#" onclick="sortBy('name', character_list)">Name</a>
                <a href="#" onclick="sortBy('birth_year', character_list)">Birth Year</a>
                <a href="#" onclick="sortBy('height', character_list)">Height</a>
                <a href="#" onclick="sortBy('mass', character_list)">Weight</a>
                <a><i class="fa fa-chevron-down" aria-hidden="true"></i></a>
                <a><i class="fa fa-chevron-up" aria-hidden="true"></i></a>
            </h3>
            <hr />
        </div>


        <!-- /.row -->
        <div class="row">
          <div class="col-lg-2 col-sm-2">
            <br>
            <h5> Planets</h5>
            <div class="funkyradio">
              <div class="funkyradio-default">
                  <input type="radio" name="radio" id="radio1" />
                  <label for="radio1">Filter 1</label>
              </div>
              <div class="funkyradio-primary">
                  <input type="radio" name="radio" id="radio2" checked/>
                  <label for="radio2">Filter 2</label>
              </div>
              <div class="funkyradio-success">
                  <input type="radio" name="radio" id="radio3" />
                  <label for="radio3">Filter 3</label>
              </div>
              <div class="funkyradio-danger">
                  <input type="radio" name="radio" id="radio4" />
                  <label for="radio4">Filter 4</label>
              </div>
              <div class="funkyradio-warning">
                  <input type="radio" name="radio" id="radio5" />
                  <label for="radio5">Filter 5</label>
              </div>
              <div class="funkyradio-info">
                  <input type="radio" name="radio" id="radio6" />
                  <label for="radio6">Filter 6</label>
              </div>
          </div>
          </div>
          <div class="col-lg-10 col-sm-10">
            <div id="grid_location"> </div>
          </div>
        </div>

        {#TODO: create common stylesheet for img style width and height#}

        {% include 'footer.html' %}
    </div>

    <script src="static/table_builder.jsx" type="text/jsx"> </script>

    <script type="text/jsx">
        function buildModels(list, init)
        {
            var chars = [];
            for(i = 0; i < list.length; i++)
            {
                if(init)
                {
                    list[i].id = i;
                }
                chars.push(<Character character={list[i]} />);
            }
            return chars
        }

        function Character(props){
            return (<div style={s = {padding: '20px', height: '100%',}}><div className = {"panel panel-default"} style={s = {height: '100%',}}><div className = {"panel-content"}>

                        <a href={"#"}>
                            <img className={"img-responsive"} src={props.character.img_url} alt={""} style={panelPicStyle} />
                        </a>

                        <a href={"/characters/"+props.character.id}><h2 className={"text-center"}>{props.character.name}</h2></a>
                        <hr />
                        <ul>
                            <li>Birth year: {props.character.birth_year}</li>
                            <li>Height: {props.character.height}</li>
                            <li>Weight: {props.character.mass}</li>
                            <li>Planets:
                                <RefList list = {props.character.planets} reftype="planets" />
                            </li>
                            <li>Films:
                                <RefList list = {props.character.films} reftype="films" />
                            </li>
                        </ul>

                </div></div></div>)
        }

        var character_list = JSON.parse({{characters | tojson}});

        console.log(character_list);

        renderTable(buildModels(character_list, true), document.getElementById("grid_location"), 2);



    </script>

</body>

</html>
